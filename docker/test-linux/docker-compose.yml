services:
  pvtest:
    build: .
    image: pv-test-linux
    working_dir: /work
    volumes:
      - ../../PV_Circuit_Model:/work/PV_Circuit_Model
      # If you want to mount the whole repo root instead, do:
      # - ../..:/work
    command: >
      bash -lc "
      pip install --no-cache-dir -r /work/PV_Circuit_Model/requirements.txt &&
      pip install --no-cache-dir -e /work/PV_Circuit_Model &&
      python /work/PV_Circuit_Model/your_test_script.py
      "
    stdin_open: true
    tty: true
